"use strict";(self.webpackChunkmobit_docs=self.webpackChunkmobit_docs||[]).push([[7739],{74583:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>u,contentTitle:()=>h,default:()=>f,frontMatter:()=>p,metadata:()=>t,toc:()=>m});const t=JSON.parse('{"id":"rgbpp-types","title":"RGBPP","description":"RGBPP (RGB++) is a cross-chain asset system that facilitates the secure transfer of assets between the Bitcoin network and the CKB network through locking scripts (Locks) and unlocking scripts (Unlocks). Any XUDT (fungible token) or Spore (non-fungible token) associated with an RGBPP Lock can be considered an RGBPP asset.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/rgbpp-types.mdx","sourceDirName":".","slug":"/rgbpp-types","permalink":"/en/rgbpp-types","draft":false,"unlisted":false,"editUrl":"https://github.com/sociallayer-im/mobit-doc/tree/main/docs/rgbpp-types.mdx","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"docs","previous":{"title":"Token Types","permalink":"/en/token-types"}}');var s=n(74848),r=n(28453),a=n(40964),o=n(87210),c=n(96540),l=n(43083);const d=e=>{let{code:i}=e;const n=(0,c.useRef)(null);return(0,c.useEffect)((()=>{(async()=>{if(n.current)try{const e=(await l.A.render("mermaid-diagram",i)).svg;n.current.innerHTML=e}catch(e){console.error("Error rendering Mermaid diagram:",e)}})()}),[i]),(0,s.jsx)("div",{ref:n})},p={sidebar_position:5},h="RGBPP",u={},m=[{value:"System Architecture",id:"system-architecture",level:2},{value:"1. RGBPP Locking Scripts (Locks)",id:"1-rgbpp-locking-scripts-locks",level:2},{value:"2. RGBPP Unlocking Scripts (Unlocks)",id:"2-rgbpp-unlocking-scripts-unlocks",level:3},{value:"Important Notes",id:"important-notes",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Query Optimization",id:"query-optimization",level:3},{value:"Performance Optimization",id:"performance-optimization",level:3}];function x(e){const i={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.header,{children:(0,s.jsx)(i.h1,{id:"rgbpp",children:"RGBPP"})}),"\n",(0,s.jsx)(i.p,{children:"RGBPP (RGB++) is a cross-chain asset system that facilitates the secure transfer of assets between the Bitcoin network and the CKB network through locking scripts (Locks) and unlocking scripts (Unlocks). Any XUDT (fungible token) or Spore (non-fungible token) associated with an RGBPP Lock can be considered an RGBPP asset."}),"\n",(0,s.jsx)(i.h2,{id:"system-architecture",children:"System Architecture"}),"\n",(0,s.jsx)(d,{code:"\ngraph TD\n  A[RGBPP Asset] --\x3e B[XUDT]\n  A --\x3e C[Spore]\n  B --\x3e D[Associated RGBPP Lock]\n  C --\x3e E[Associated RGBPP Lock]\n  D --\x3e F[Bitcoin Network]\n  E --\x3e F\n"}),"\n",(0,s.jsx)(i.h2,{id:"1-rgbpp-locking-scripts-locks",children:"1. RGBPP Locking Scripts (Locks)"}),"\n",(0,s.jsx)(i.p,{children:"RGBPP locking scripts (Locks) are a core component of the system, responsible for securely locking and transferring assets between the Bitcoin network and the CKB network. Each locking script has a unique identifier and is linked to specific Bitcoin and CKB transactions. Through these scripts, the system ensures the security and immutability of the assets."}),"\n",(0,s.jsx)(o.A,{typeName:"rgbpp_locks",typeDescription:"The RGBPPLocks type represents locking scripts associated with RGBPP assets.",fields:[{name:"lock_id",type:"bytea!",description:"Unique identifier for the locking script. Format: byte array (hexadecimal prefixed with \\\\x). Example: \\\\x430e98dc1272960a30f7cbd4bcbb4c6343021aff942c36fa1561e90129b2a9b5."},{name:"btc_txid",type:"bytea!",description:"Bitcoin transaction ID associated with the locking script. Format: byte array (hexadecimal prefixed with \\\\x). Example: \\\\xb5a9b22901e96115fa362c94ff1a0243634cbbbcd4cbf7300a967212dc980e43."},{name:"out_index",type:"Int!",description:"Output index in the Bitcoin transaction. Type: integer. Example: 1."},{name:"tx",type:"bytea!",description:"CKB transaction hash associated with the locking script. Format: byte array (hexadecimal prefixed with \\\\x). Example: \\\\xabb260b6312831bc484656f3b2d4bf48e7a59d3ff35f21c4453fc46e0a13f484."}]}),"\n",(0,s.jsx)(i.p,{children:"You can retrieve the latest RGBPP locking scripts list using the following GraphQL query:"}),"\n",(0,s.jsx)(i.p,{children:"Query RGBPP Locks:"}),"\n",(0,s.jsx)(a.A,{defaultQuery:"query GetRgbppLocks {\n  rgbpp_locks(limit: 5) {\n    tx\n    btc_txid\n    lock_id\n    out_index\n  }\n}"}),"\n",(0,s.jsx)(i.h3,{id:"2-rgbpp-unlocking-scripts-unlocks",children:"2. RGBPP Unlocking Scripts (Unlocks)"}),"\n",(0,s.jsx)(i.p,{children:"Unlocking scripts (Unlock Scripts) play a critical role in RGBPP by validating locking scripts to allow the transfer of assets between the Bitcoin network and the CKB network. Each unlocking script is associated with a specific locking script, ensuring the security and traceability of the assets."}),"\n",(0,s.jsx)(o.A,{typeName:"rgbpp_unlocks",typeDescription:"The RGBPPUnlocks type represents unlocking scripts associated with RGBPP assets.",fields:[{name:"unlock_id",type:"bytea!",description:"Unique identifier for the unlocking script. Format: byte array (hexadecimal prefixed with \\\\x)."},{name:"version",type:"smallint!",description:"Version number of the unlocking script. Type: small integer."},{name:"input_len",type:"smallint!",description:"Number of inputs in the transaction. Type: small integer."},{name:"output_len",type:"smallint!",description:"Number of outputs in the transaction. Type: small integer."},{name:"btc_tx",type:"bytea!",description:"Complete Bitcoin transaction data. Format: byte array (hexadecimal prefixed with \\\\x)."},{name:"btc_tx_proof",type:"bytea!",description:"Proof of the validity of the Bitcoin transaction. Format: byte array (hexadecimal prefixed with \\\\x)."},{name:"tx",type:"bytea!",description:"CKB transaction hash associated with the unlocking script. Format: byte array (hexadecimal prefixed with \\\\x)."}]}),"\n",(0,s.jsx)(i.p,{children:"Query RGBPP Unlocks:"}),"\n",(0,s.jsx)(a.A,{defaultQuery:"query GetRgbppUnlocks {\n  rgbpp_unlocks(limit: 5) {\n    unlock_id\n    version\n    input_len\n    output_len\n    btc_tx\n    btc_tx_proof\n    tx\n  }\n}"}),"\n",(0,s.jsx)(i.h2,{id:"important-notes",children:"Important Notes"}),"\n",(0,s.jsx)(i.admonition,{title:"Asset Identification",type:"info",children:(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Any XUDT or Spore associated with an RGBPP Lock is considered an RGBPP asset."}),"\n",(0,s.jsxs)(i.li,{children:["Confirm the RGBPP status of an asset through records in the ",(0,s.jsx)(i.code,{children:"rgbpp_locks"})," table."]}),"\n"]})}),"\n",(0,s.jsx)(i.admonition,{title:"Ownership Queries",type:"caution",children:(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"The GraphQL API only provides on-chain data queries."}),"\n",(0,s.jsx)(i.li,{children:"Determining the actual owner of an asset requires the use of the RGBPP SDK."}),"\n",(0,s.jsx)(i.li,{children:"The SDK handles Bitcoin transaction validation and ownership tracking."}),"\n"]})}),"\n",(0,s.jsx)(i.admonition,{title:"Data Association",type:"warning",children:(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"XUDT and Spore achieve cross-chain capabilities through associated RGBPP Locks."}),"\n",(0,s.jsx)(i.li,{children:"A single RGBPP Lock can be associated with both XUDT and Spore."}),"\n"]})}),"\n",(0,s.jsx)(i.admonition,{title:"Query Limitations",type:"danger",children:(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"On-chain data only reflects the locking status of assets."}),"\n",(0,s.jsx)(i.li,{children:"Complete ownership information requires integration with Bitcoin network data."}),"\n",(0,s.jsx)(i.li,{children:"It is recommended to use the SDK for comprehensive asset queries and validations."}),"\n"]})}),"\n",(0,s.jsx)(i.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsx)(i.h3,{id:"query-optimization",children:"Query Optimization"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"Asset Queries"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Use appropriate indexed fields."}),"\n",(0,s.jsx)(i.li,{children:"Request only the necessary fields."}),"\n",(0,s.jsx)(i.li,{children:"Implement pagination for large datasets."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"Status Checks"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Verify whether a Lock is valid."}),"\n",(0,s.jsx)(i.li,{children:"Confirm if the asset has been consumed."}),"\n",(0,s.jsx)(i.li,{children:"Check cross-chain status."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"performance-optimization",children:"Performance Optimization"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"Batch Queries"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Utilize GraphQL batching."}),"\n",(0,s.jsx)(i.li,{children:"Merge related queries."}),"\n",(0,s.jsx)(i.li,{children:"Cache frequently accessed data."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"Data Validation"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Validate results using local caching."}),"\n",(0,s.jsx)(i.li,{children:"Process Bitcoin confirmations asynchronously."}),"\n",(0,s.jsx)(i.li,{children:"Incrementally update status."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"By understanding these components and their interrelations, developers can accurately identify and query RGBPP assets and use the SDK for deeper analysis when ownership validation is necessary."}),"\n",(0,s.jsxs)(i.admonition,{title:"Development Recommendations",type:"tip",children:[(0,s.jsx)(i.p,{children:"When developing RGBPP applications, it is advisable to:"}),(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsx)(i.li,{children:"First obtain foundational data through the GraphQL API."}),"\n",(0,s.jsx)(i.li,{children:"Use the SDK to validate critical information."}),"\n",(0,s.jsx)(i.li,{children:"Implement appropriate caching strategies."}),"\n",(0,s.jsx)(i.li,{children:"Ensure robust error handling and retry mechanisms."}),"\n"]})]})]})}function f(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(x,{...e})}):x(e)}},87210:(e,i,n)=>{n.d(i,{A:()=>c});n(96540);var t=n(34164),s=n(92303),r=n(95293);const a={graphqlContainer:"graphqlContainer_txj9",light:"light_tjNd",dark:"dark_xDko",typeDescription:"typeDescription_l4MU",keyword:"keyword_CRfX",typeName:"typeName_VxqW",fields:"fields_Dmof",field:"field_mRXJ",fieldName:"fieldName_fK8b",colon:"colon_zlWV",fieldType:"fieldType_bW41",braces:"braces_l5fT"};var o=n(74848);function c(e){let{typeName:i,typeDescription:n,fields:c}=e;const{colorMode:l}=(0,r.G)();(0,s.A)();return(0,o.jsx)("div",{className:(0,t.A)(a.graphqlContainer,a[l],"theme-code-block"),children:(0,o.jsxs)("div",{className:a.typeHeader,children:[n&&(0,o.jsx)("div",{className:a.typeDescription,children:(0,o.jsxs)("span",{children:["# ",n]})}),(0,o.jsxs)("div",{className:a.codeBlock,children:[(0,o.jsx)("span",{className:a.keyword,children:"type"})," ",(0,o.jsx)("span",{className:a.typeName,children:i})," ",(0,o.jsx)("span",{className:a.braces,children:"{"}),(0,o.jsx)("div",{className:a.fields,children:c.map((e=>{let{name:i,type:n,description:t}=e;return(0,o.jsxs)("div",{className:a.field,"data-tooltip":t,children:[(0,o.jsx)("span",{className:a.fieldName,children:i}),(0,o.jsx)("span",{className:a.colon,children:":"})," ",(0,o.jsx)("span",{className:a.fieldType,children:n})]},i)}))}),(0,o.jsx)("span",{className:a.braces,children:"}"})]})]})})}},40964:(e,i,n)=>{n.d(i,{A:()=>k});var t=n(96540),s=n(86105),r=n(5e3),a=n(44939),o=n(72011),c=n(4671),l=n(61545),d=n(34066),p=n(30222),h=n(19337),u=n(54676),m=n(55629),x=n(36694),f=n(64198),y=n(92303),g=n(95293),b=n(74848);function k(e){let{defaultQuery:i,defaultVariables:n="{}",endpoint:k="https://unistate-ckb-test.unistate.io/v1/graphql"}=e;const j=(0,y.A)(),{colorMode:v}=(0,g.G)(),P="dark"===v,B=e=>e.replace(/\\/g,"\\\\");i=B(i);const w=i.includes("$")||i.includes("variables"),[A,G]=(0,t.useState)(k),[R,C]=(0,t.useState)(i),[S,_]=(0,t.useState)((()=>{if("string"==typeof n)return B(n);const e=k.includes("test")?"test":"main",i=n[e];return"string"==typeof i?B(i):JSON.stringify(i,null,2)})),[N,D]=(0,t.useState)(null),[T,q]=(0,t.useState)(!1);(0,t.useEffect)((()=>{try{const e=(0,f.G)(i);C(e)}catch(e){console.error("Failed to format initial query:",e)}}),[i]);const L=P?p.A:h.A;if(!j)return null;const U={color:"var(--ifm-color-emphasis-700)","&:hover":{color:"var(--ifm-color-primary)",backgroundColor:"var(--ifm-color-emphasis-200)"}},z={color:"var(--ifm-color-emphasis-700)",borderColor:"var(--ifm-color-emphasis-300)",fontSize:"0.75rem",minWidth:"auto",px:1,"&.Mui-selected, &:hover":{color:"var(--ifm-color-primary)",borderColor:"var(--ifm-color-primary)",backgroundColor:"var(--ifm-color-emphasis-200)"}},Q={...z,backgroundColor:"var(--ifm-color-primary-lighter)",color:"var(--ifm-color-primary-darker)","&:hover":{backgroundColor:"var(--ifm-color-primary-lighter)",color:"var(--ifm-color-primary-darker)"}};return(0,b.jsxs)(s.A,{sx:{my:2},children:[(0,b.jsxs)(s.A,{sx:{display:"flex",flexDirection:"column",gap:2,mb:2},children:[(0,b.jsxs)(s.A,{sx:{flexGrow:1,border:1,borderColor:"var(--ifm-color-emphasis-300)",borderRadius:1,position:"relative","&:hover .toolbar":{opacity:1},maxWidth:"100%"},children:[(0,b.jsxs)(s.A,{className:"toolbar",sx:{position:"absolute",top:8,right:8,zIndex:1,display:"flex",gap:1,backgroundColor:"rgba(var(--ifm-background-surface-color-rgb), 0.95)",backdropFilter:"blur(8px)",padding:"4px",borderRadius:1,boxShadow:"0 2px 8px rgba(0,0,0,0.1)",opacity:0,transition:"opacity 0.2s ease"},children:[(0,b.jsxs)(r.A,{size:"small",sx:{"& .MuiButtonGroup-grouped":{borderColor:"var(--ifm-color-emphasis-300)"}},children:[(0,b.jsx)(a.A,{sx:A.includes("test")?Q:z,onClick:()=>G("https://unistate-ckb-test.unistate.io/v1/graphql"),children:"Test"}),(0,b.jsx)(a.A,{sx:A.includes("test")?z:Q,onClick:()=>G("https://ckb-graph.unistate.io/v1/graphql"),children:"Main"})]}),(0,b.jsxs)(r.A,{size:"small",sx:{"& .MuiButtonGroup-grouped":{borderColor:"var(--ifm-color-emphasis-300)"}},children:[(0,b.jsx)(o.A,{title:"Format Query",children:(0,b.jsx)(c.A,{size:"small",onClick:()=>{try{C((0,f.G)(R))}catch(e){console.error("Failed to format query:",e)}},sx:U,children:(0,b.jsx)(u.A,{fontSize:"small"})})}),(0,b.jsx)(o.A,{title:"Copy Query",children:(0,b.jsx)(c.A,{size:"small",onClick:()=>navigator.clipboard.writeText(R),sx:U,children:(0,b.jsx)(m.A,{fontSize:"small"})})}),(0,b.jsx)(o.A,{title:"Execute Query",children:(0,b.jsx)(c.A,{size:"small",onClick:async()=>{try{q(!0);const e=await fetch(A,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:R,variables:JSON.parse(S)})}),i=await e.json();D(i)}catch(e){D({error:e.message})}finally{q(!1)}},disabled:T,sx:{...U,"&:hover":{color:"var(--ifm-color-primary)",backgroundColor:"var(--ifm-color-emphasis-200)"},"&.Mui-disabled":{color:"var(--ifm-color-emphasis-300)"}},children:(0,b.jsx)(x.A,{fontSize:"small"})})})]})]}),(0,b.jsx)(d.A,{language:"graphql",style:L,customStyle:{margin:0,padding:"16px",backgroundColor:"var(--ifm-background-surface-color)"},contentEditable:!0,onKeyDown:e=>{if("Tab"===e.key){e.preventDefault();const i=window.getSelection(),n=i?.getRangeAt(0),t=document.createTextNode("  ");n?.insertNode(t),n?.setStartAfter(t),n?.setEndAfter(t)}},onInput:e=>{const i=e.target.innerText;C(i);i.includes("$")||i.includes("variables")||_("{}")},children:R})]}),w&&(0,b.jsx)(l.A,{label:"Variables",multiline:!0,value:S,onChange:e=>_(e.target.value),sx:{flex:1,"& .MuiOutlinedInput-root":{bgcolor:"var(--ifm-background-surface-color)","& fieldset":{borderColor:"var(--ifm-color-emphasis-300)"}},"& .MuiInputLabel-root":{color:"var(--ifm-color-emphasis-700)"},"& .MuiInputBase-input":{color:"var(--ifm-font-color-base)",fontFamily:"var(--ifm-font-family-monospace)"}}})]}),N&&(0,b.jsx)(s.A,{sx:{border:1,borderColor:"var(--ifm-color-emphasis-300)",borderRadius:1,overflow:"auto",maxHeight:"300px"},children:(0,b.jsx)(d.A,{language:"json",style:L,customStyle:{margin:0,padding:16,backgroundColor:"var(--ifm-background-surface-color)"},children:JSON.stringify(N,null,2)})})]})}}}]);